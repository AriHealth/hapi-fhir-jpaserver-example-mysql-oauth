language: java

sudo: false # faster builds

cache:
  directories:
    - $HOME/.m2

env:
  global:
    - secure: "kWH3QFrXYI8uahW18TxrHfuZZYofpfhCWm1SHmg9HARjgKUtGvg9ufEhPdRqqOJtjZVmVuFPobV7gI2XKxGHO4Z+4Ttc/BQSQqsQs0uIeZWIAFyeIW8r+cZD9T+Gruzhpqr6aTFi/Kfkco0DZ0PTDNrvIiGrayNS1QKDtZM32bZm3ZwWuF9wvlhdFn+hEVtGTxkoSWR4zR4BxoZCWE/9+FdakuBJzEbgkCK+mDOmHmtGlJ419YD1lYybHTt74I5wErJfm9shuxl7agPZ8zsURMN5vdsY7uu+G0bBNrGM1AXQdb94VIGuhiQUHDgjk++ETGYSmZBvpTeH9d+liTr1aQYffuWduXH0+RoFGXtnHM/G6jwgjWcd5U2uScHwAEcg2KCwxwUd8bHZF4WmY0GtHtEob28zHcwg1lu+/OSXIQAeX7mynfotzoS4uoG3ATZVaABB3FogLzuS/jWo2HESKaB5l2yV7+qloWKPirWQKHGxMrzLs0FnmPu62iKtoIrFdpEhB54SmAmi8U04balNp6Ls6EIN4RSlh4jdcUElrSNqxzOhn5R1mT72PJnPcn2d2y9t7yFX44QIwSSDwCbkqcvEUR16zXhIHv00Y+WprquDdK3lNTD3vGeVS1RcYCrSAQW9KMldf2ihau6VrmTkEVMXqfdzq/ugeUq9lkhy3oM="
    - secure: "l97d3ATi3/o8HNbq2Um5H9Qn2w3HspeqFQI7I9x1zxZxZeP+2WPDQBBDCZmUme3q1CFgx2/Zrqqh+Sp6UprUSaCWY48qY9+w5hXscPmz5x1IrKSCmUBPjMRJBqpMZhCphbxgAFeSZmCy8rN8n0jDT+PKUnSwu2wgOMUM3yZkYHLsECyOB3UzKC0kmla+RdmY1OxPAwYrqRCTR9ppjOgwzAbMdE+iuul3A8pUlf5G/THgC/SrrO+/eXGOVe4HqEgf0fZWDdifZzuDT+9kk6GujiaSpC8vjYKGDAahxEhAHqqiFufa2uDFgwT81WkIS9/eQ99YWRfYUvrKPCdawtSSEMC/UYl4fhut15FVo0+3bEn8gxb70JbbQlDTyFzn6/OMTEzROjlF6gd3nd7ZEMMBiqV1sItgADr8/5DvgOCqaCUCvS6RmKeX0dhBRBOxLtC7MrbxPSlHFqrtFjfCEOUtmeIPPR9BREbekMQbEpAOOVnyjVfQmah1RC1AZfV5gpBuyt6pPKhNivXIjHc8PZna17qgVo3Nw+Z0EhzYtKcrs252qR9n5tFEl6HcF7+L1dzflyfqw+ifBHp5EXi2zttVHasE+p0q1f0u1pbgnIccsPJlWJwhmlN5CFiwyMt8NYIOTHUjCyW0H5vZkd7sYalEzl7yJLe4NdfkVX4ENaVY4Tc="
    - secure: "FREO5AlZEUG8t9pI2436mDAd7I/7fSJYrBj2qSf2sLzqQxuOEdH/D5QmAv3Vh09cFyreI7LyZolTr/Awwl5jOxuFHjmeKN7N8X/jwo3XDNLN7Eh5UE0GLykBZDlUCCuop+w6680jrH3TO7Y6NzGjM1ZgTCGGuiKOSaMm9YTsZjAkCYtaMb9tpuu9mvUoY2n1dEfRZfMZK37gnnHIx22FhMg2LDaagCUzKlexTJA2h20PTFa9tCKWSI0llZtyFvl5yBTttX6Pp1CAj1VLlH3uftyIDNkDwQbOlGazJzYpzWhsgIw6q+lKW0+4L4XPU5C9sgeGRaICfu8Bdv6LhTS7VyQE2Sxn5B6T2TkYBrs9X7jJqeDr/W6aEyoPHVyq4y1En9cpzMvxhoPZInTNeew9MMUU41rjkK/pZ7gGzsHuyxvbhqYEcZc9Wv3CqSXGdcV53HWoLSPGn7+yGzbdKiiyEc+vsBKjcvfs/6ug5uthVbClZI1TZ24bosa9j76xvsaChC5UgbiLGQ/fLe9MXOKmtASPwKFRoSSEpVC+lwViBCWAb7MQM+sFLkBpKBAoEoYzJvC0nnZvFay304dG8hwy1wpafUckXEhOjBL8/hLhYwQG5yqVy+dAwtbz+OSTL+tKuVwEdi+r81ibbJ0bwOnNV+erD7vjb0L6h4OFwHYKf28="
    - secure: "Ysz7aJX15BHzdWJDjV6+RsPnkVR3hZ3JrUMtYltA1YaamTl4Mya36jljX0ys5a7xruUufgm5GpOHUPOZecEwN2OHdq/0zJYN5hGD5MP5YLeOt1WXJvhgitm+woaJ3q4jTy2gf5t7MtelyjMaj3tgKwwHoe8pJaIGjQ9ug0lQrtIhPpPvHKfrLXtFZQo8eUeacC7JfCR+cm7cxtGE1i0gzKo1JXb35L5l1muymmjPBP1MH/YBG1LHS09eEqio9+A5PpOXx0X1vyLqdnitKQmrt+oi4w+ineSth99UsKNOwpnnYULsU+cRMT9CypsY7WdVkLOKJ8Yx4NtPhz56z26jHeKzihox0RqKfJBUg3a4fEy8wuZ/gwqWVccI/DZZVfD226nC/zPjXOPrzpcLfUQ+W5JbwLkoeaZt0Lz6dZqCG3s+vh9cbea46xwzGIoBAhCBKQ89APRXsrI+868iwbcabV9iBAwgZlH5nCsmHem+macU4yfAtbMLb5Zm9Ztu+CVc3j6a3sDtdczZLgLk7mr0fSZ1uR9SwMKWhKZf/95v8Q03MOZt/22HMYcw/qeYZCascBdh7ETbnxY+phHJ0zrpgi4rEzH5IU0r5G7oTZBnvohEYBJNpYpVfYS+PQAIElF8SawvA6VNmXDEUSxuq8z5xlfO0Y1gkpLzam8ZVrp77i0="
    - secure: "nAl4a1F3sBhw/ZRDS+/wbiSj4OgxvBGlXnpxjmxPh5xs+Nrhpr89d0SS/JszIe28EJ9fa3yP+LmhTy00FUgaNjQ9vWFVAWOyyGo5QSinpzjuniHnefLMbuzg0Acehaw3s50IpHVKCxUp9nNHzVnjDkKJSmsWqPqbTD6UBhbioP3h89P7a1nYu3jV5JwhzfxoAC3piaqZQKTfKIIPN0fulkO+9scJ+JBFhXsosSacXMAkNdc/eAoC7xRRU0p4BssPIqYsJBzbEcqevguK+9wNr9vDadcEQm4Vo7Af+zEvCEzqJaPLGb6EM4YTE6yplpbP5gyeITY4oakgxDEcUOwDEUdCM7imY3guMv3KrECJiTy/9ZGbq74h5Cui0RyRN8OxLnlb/Kzt0MO/GrkDHpU9OJfNkViBvCT9CyvY6MJRiL+K0GzNnH6VCv+2CKTrjRCFVXSdlok7KSA7Egucb/w4FaZEk/y13a8BNlhnF2Wjw1MML8FzScDuEaX+tZ43+Ppy+EXEzBvSWTetIORzRyNwtiMtCPq9gODTwCbLaU9u1cBDpgWlfHOwL0LlrHzbVpeL4pYfj7Pqv5mfK0vHFOGSI6rwtwyieWZtYrQVwMbdE9yBGSKDMUY/w8Dd4nabF6YzpZOLXOrNBCVzMjYhFwh6nTn9J+juVDVer0KdX15skmc="
    - secure: "BUx3t+7TNoV6R/tLFHrCDTyPlP218e7i6HabJ12wcYac0NQG6wq6BiX7B5Tmetm2Oh2jLzlwQVwA6T8bvXGQqb7F/IGeEm0zTJWZCehmkimHMf7mUdWU3sTN+m6ciR++4fMXGn0z8cLrqzSh/Gxx5J8w73SveFw02W1gx4HPVg0Yh8YPguu151O1B+ZEfod1PA6U0dCtDv3T8wFrHmcTH3rw6gjtH8rDhLIFHOrJJS/UXYu42FkRoNflJXIbj0gsxRNgUjg0G30oJkNQhKBQNV4+LZyowgU+erxwAfnzGQF9flRV6Xq7fTa8hqUgwYq1JfHBHFzZ7eJUPtSxUgsgBbXikMGu9oSvtRlvQe7C3tA4sHNp2765/HGDywEegqGFmr949ds6QjfKYCiyMzPX+x5dJt09mqa96QE1z+isufuxNlEBnxtFILYGHyFJRyUpqhHtB4ZIi+wDyLy8jcx/By4tGMCaQMJ4lIT7ruBPhaXJfjxclur6etpqd2rDv42ZTEkqzgUHjnHk6brH6zhH93uSbIlSDPUR/cPFpkPEEnPKdpf+sfiLDTOItL8t8f4LnEEgjt6miR4Jwp+YjGSgKxexh48MXkPAPsJhj3rUuRq3H7Z9Nbgr1CvdL5UNm/5aKZr5Sz+3PdRWztjY4OAFrNB7HQA5rsdmkPQ0h80+PxI="
    - secure: "jiwD5GVEEcXhugXkDbllgCPGc1nk8PfXQ8LFsGdXyXOHD/+8TcPU7oTgTNp2KVqXYb6YsQUWzgBuB7NpdUkcNMX5mvv04pbj/qg/5xRlfzO0LJmw0968qaviAImQv7YHcgWaLq6Qx3+gKXoUKEFKwXH2Tj+nwUmj1BLJzDmz2DiLZwONuVIpm84C84RPrcNdaJb63mTM4/7BZJgFoFEWe3Rov4LbxxcPQy++IYdJoao7TGVU2/qt/TFPhR3Dktozrnvj/AFfRhIQT/U0hMsYhK9IVVzoMz0Hp1gXXZSsyGPqTZHF+y7sIPYTd8S4V+vhgn6EOSRXeqM00tUVGlTXwZnQi98FRk7pEu+qbNCm59Si41k5bguSh+IvfAdrl6Dm5mjywEVjkoKJXfIK/1IzC1I9NcHt7N38Xf9Vahv+Y19nWYVd54u36tdQckFUwtxuztTot2/6BiEsAcb5uCKcCxw/kqBXoS84w1YCTC7FN6XGcTah4QFbCrlIyMcg96xIupHb1tAcwk2VmefBDv7mCIciksIQlDYK6Bu67PykXooMbdu9vQphsgZ78CHZEntvb1R1BeSeduNMI08jhNpMOc5cCRtLqtSOZTY9ixmSnfFqmTYhBIIx/H3AQzInfyEC+5QaPbvY9mWFGM3e9xLG9Z6Qqc4NS3rO8KrLa4o2ZbY="
    - secure: "wvR6tP7buEZZbQ8z7Q+QsGJKjalKtEkfdTPxljKKtIQQq//67sdefvI1tgaY4ft5EfBypj/i7wP4Hut9iQPMiSVpG1quwIox8QsvRAHQCIoKyYzppJQQKmmo7NPImz4OKZQnUXeuLlw7Q2r96p5XTCSwSkN/LmwfmgVIeC9vDWQSPFnpmisc/MYuX+xVIq+kh0gGjb5nIzvYO8wVpkem/+bct54DqJX2F0zO8RTfCHHfeN6deBOgB5spUkRi23+9ecQPYaaHFtlqBZ9bHRkhFWHAuNcHo0dFP9bi91RkzmkzNPAT2lHwFjtGAZBLduPyr8mS5sEJ213KXy65nlzHSrDJdlTSvDavarxO65l4JdR0Vpn9d3w9QBBxDUUZdUiP8ECpVwXtpe3e7acenV4xio/cTTHXoIHYnjruZ4ESRFXl6RQRJzs+c33dQh0e1XSKiOWochcH2c/zcBnRPchFsT2OEe7pHYJ8UmtCzvDpa4RRoXcmkntgiYljIbHckyDcWzgZDHSPkbbOvtrwIzV3BspI+oRKIzfdOOBpOxRlL1KfHb8xtYO2Fjigz/75jAn05xHmesVOPoadmR+oR888ZkFxjUKVrbXb6p17lf13l3UBZIknnfTTTZSsoN2p71z0HJHk+6SzpabgJuyZs+2nuSNgv3AmOlBR6W/JAv6Wmdo="

    
addons:
  sonarcloud:
    organization: "arihealth"
    token:
      secure: "xSaVI5VX13VOuAxKKrubTEeiXpHH/kBdwPZqnpuymzdHa2sGtEeWhJvr+vCgrbWXcTnMyOc0eI8DKC9thxl9ulL8nyLEBRJtxg+QmnACzkB7uNyO1+nDrPZasw3gE8wrHPIflZSygxojULKjSGdrHQHD9c7yxzNnZ+yDt5p4vuAJCQl/7vhI1Xrbmj8P2xB7Q/MWamHmJHAhoqALJgzLr0qaSLrlsXo3xgztV2+hQ4pBDWiBo12PK7mEoqGWc7pqCtMdj8bK4L2r3gQTDpSZVqT79C2kQnLR9BTYujjroEg3SodQsozvosO5zVMnxwnW6DtvWm77HNfHt3KvljTN2CcfiiUs0K/LYnuIhjHBVV29b+yoeKS9JmzaaMzHcPhlsqW4r4OG/rw+5gy2q2HLT1NRY7B6xMr6ijX/0qACVvEh0UVjQ4Ou/FrNQpsDUhQMmghIzNvkg05OwQmIbKm3bvgvGJTUF4EdMRPIZEAbjgiShxFG5zEuaddRTKe62Ti9QIn+dREwa7HfUFYC7+fVgJ403YMwES9Px+QrUGMAXJi9pQYZwlM9undA40JprdHwm0lRWETWz+zai9w+Fdp3O0YDPBjAaB6iJjbk9NLT9kXY4L26gDYFfo7unGp93JvQCzjP88KEmfibMshSYd3PJnOyzhjcA4dOHMKub0wxOdk="

script:
  - if [ "$TRAVIS_PULL_REQUEST" = "true" ]; then mvn clean test; mvn package -Dmaven.test.skip=true; mvn sonar:sonar; fi
  - if [ "$TRAVIS_BRANCH" = "master" ]; then mvn clean test; mvn sonar:sonar; fi
  - if [ "$TRAVIS_BRANCH" = "release" ]; then chmod +x .travis/prepare.sh && .travis/prepare.sh; mvn -s .travis/settings.xml -B release:clean release:prepare; git push --tags; mvn -s .travis/settings.xml -B release:perform; chmod +x .travis/push.sh && .travis/push.sh; fi

after_success:
- bash <(curl -s https://codecov.io/bash)
